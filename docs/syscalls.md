# System Call Table

| ID (S1) | Name            | Description                                                                           | Arg 1 (S2)                         | Arg 2 (S3)                         | Arg 3 (S4)     | Returns (R2)                   | Notes                                |
|---------|-----------------|---------------------------------------------------------------------------------------|------------------------------------|------------------------------------|----------------|--------------------------------|--------------------------------------|
| 1       | `newFile`       | Creates a new file to VFS                                                             | `Register String` (File name)      | -                                  | -              | -                              |                                      |
| 2       | `readFile`      | Reads data from the VFS into memory.                                                  | `Register String` (File name)      | -                                  | -              | Starting Address of bytes read |                                      |
| 3       | `writeFile`     | Writes data from memory to a file.                                                    | `Register String` (File name)      | `Register String` (Buffer content) | -              | -                              |                                      |
| 4       | `listFiles`     | Lists all files in VFS                                                                | -                                  | -                                  | -              | -                              | Not implemented                      |
| 5       | `deleteFile`    | Deletes a file in VFS                                                                 | `Register String` (File name)      | -                                  | -              | -                              |                                      |
| 6       | `exit`          | Terminates the VM with the given exit code.                                           | `Long` (Exit code)                 | -                                  | -              | -                              |                                      |
| 7       | `exec`          | Executes a new program with your host OS                                              | `Register String` (File name)      | -                                  | -              | -                              |                                      |
| 8       | `fork`          | Creates and executes a copy of the VM                                                 | -                                  | -                                  | -              | -                              | It does not copy the state of the VM |
| 9       | `spawn`         | Creates a new instance of the VM with a given File name.                              | `Register String` (File name)      | -                                  | -              | -                              |                                      |
| 14      | `time`          | Gets the current time (milliseconds).                                                 | -                                  | -                                  | -              | Current Time (milliseconds)    |                                      |
| 16      | `getpid`        | Gets the process ID.                                                                  | -                                  | -                                  | -              | Process ID                     |                                      |
| 17      | `getuid`        | Gets the user ID.                                                                     | -                                  | -                                  | -              | User ID                        |                                      |
| 18      | `handleSignals` | Sets up a signal handler for the process. When signal is received jump to Line number | `Long` (Signal Number)             | `Long` (Line number)               | -              | -                              |                                      |
| 19      | `sendSignal`    | Sends a signal to a process.                                                          | `Long` (Process)                   | `Long` (Signal Number              | -              | -                              |                                      |
| 24      | `writeIo`       | Writes a null-terminated string to the console.                                       | `Register String` (String Address) | -                                  | -              | -                              |                                      |
| 25      | `readIo`        | Reads a line from standard input.                                                     | -                                  | -                                  | -              | String Address                 | Allocates memory for the string.     |
| 26      | `createArray`   | Creates a new array.                                                                  | `Long` (Array Size)                | -                                  | -              | Array Base Address             |                                      |
| 27      | `arraySet`      | Sets an array element.                                                                | `Long` (Array Address)             | `Long` (Index)                     | `Long` (Value) | -                              | Performs bounds checking.            |
| 28      | `arrayGet`      | Gets an array element.                                                                | `Long` (Array Address)             | `Long` (Index)                     | -              | Value                          | Performs bounds checking.            |